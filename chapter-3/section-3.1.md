# Chapter 3: 리액트 훅 깊게 살펴보기

## 3.1 리액트의 모든 훅 파헤치기
- 리액트 함수 컴포넌트에서 가장 중요한 개념 훅
- class 컴포넌트에서만 가능했던 state, ref 등 리액트의 핵심적인 기능을 함수에서도 가능하게 만듦

### 3.1.1 useState
- useState? 컴포넌트 내부에서 상태 정의

#### 1. useState 구현 살펴보기
<details>
<summary>예제</summary>
const [state, setState] = useState(initialState)
</details>

- 인수로 사용할 state의 초깃값을 넘겨준다.
- 아무런 값을 넘겨주지 않으면 초기값 undefined
- 훅읜 반환 값은 배열
- 배열의 첫 번째 원소로 state 값 자체를 사용할 수 있고
- 두번째 원소인 setState 함수를 사용해 해당 state의 값을 변경할 수 있다
- 리액트 클로저 이용 ? 클로저 : 어떤 함수(useState) 내부에 선언된 함수(setState)가 함수의 실행이 종료된 이후에도(useState가 호출된 이후에도) 지역변수인 state를 계속 참조할 수 있다는 것 의미
\* useState는 자바스크립트의 특징 중 하나인 클로저에 의존해 구현돼 있을 것이라는 사실을 짐작(정리)
\+ 클로저를 사용함으로써 외부에 해당 값을 노출시키지 않고 오직 리액트만 사용할 수 있고
\+ 함수 컴포넌트가 매번 실행되더라도 useState에서 이전의 값을 정확하게 꺼내 쓸 수 있게 됐다

#### 2. 게으른 초기화
- 함수를 실행해 값을 반환 (195p 참조)
- 게으른 최적화 언제 ? 리액트에서 무거운 연산이 요구될 때 사용 : localStorage나 sessionStorage에 대한 접근, map, filter, find 같은 배열에 대한 접근, 혹은 초깃값 계산을 위해 함수 호출이 필요할 때와 같이 무거운 연산을 포함해 실행 비용이 많이 드는 경우에 게으른 초기화를 사용하는 것이 좋다


### 3.1.2 useEffect
- useEffect ? 애플리케이션 내 컴포넌트의 여러 값들을 활용해 동기적으로 부수 효과를 만드는 메커니즘
- useEffect는 두 개의 인수를 받는데, 첫 번째는 콜백, 두 번째는 의존성 배열 : 두 번째 의존성 배열의 값이 변경 되면 첫 번째 인수인 콜백 실행
- 두 번째 의존성 배열에 빈 배열을 넣으면 컴포넌트가 마운트 될 때만 실행
- useEffect는 클린업 함수를 반환할 수 있는데, 이 클린업 함수는 컴포넌트가 언마운트 될 때 실행

