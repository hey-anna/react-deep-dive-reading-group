# 리액트 개발을 위해 꼭 알아야 할 자바스크립트

## 1.2 함수

### 1.2.1 함수란 무엇인가?

---

함수란 작업을 수행하거나 값을 계산하는 등의 과정을 표현하고, 하나의 블록으로 감싸서 실행 단위로 만들어 놓은 것을 의미.

React의 컴포넌트도 이런 기초적인 형태를 따른다.

```jsx
function Component(props) {
  return <div>{props.hello}</div>;
}
```

### 1.2.2 함수를 정의하는 4가지 방법

---

#### 📌 함수 선언문

자바스크립트에서 함수를 선언할 때 가장 일반적으로 사용하는 방식이다.

```js
function add(a, b) {
  return a + b;
}
```

함수 선언문은 표현식이 아닌 일반 `문`으로 분류된다. `표현식`이란 무언가 값을 산출하는 구문의 의미한다. 즉, 위 예제는 어떠한 값도 표현되지 않았으므로 `문`으로 분류된다.

```js
const sum = function sum(a, b) {
  return a + b;
};

sum(10, 24);
```

위 예제는 sum이라는 변수에 함수 sum을 할당하는, 표현식과 같은 작동을 보인다. 자바스크립트 엔진은 코드 문맥에 따라 동일한 함수를 문이 아닌 표현식이라 해석하는 경우도 있다.

#### 📌 함수 표현식

`일급 객체`란 다른 객체들에 일반적으로 적용 가능한 연산을 모두 지원하는 객체를 의미한다. 함수는 다른 함수의 매개변수가 될 수도 있고, 반환값이 될 수도 있으며, 앞 예제처럼 할당도 가능하므로 일급 객체가 되기 위한 조건을 모두 갖추고 있다.

#### 📌 함수 표현식과 선언문의 차이

가장 큰 차이는 `호이스팅`의 여부다.

호이스팅은, 함수 선언문이 마치 코드 맨 앞단에 작성된 것처럼 작동하는 자바스크립트의 특징을 의미한다.

선언문은 그 함수 자체가 메모리에 등록되는 반면에, 표현식은 함수를 변수에 할당했기 때문에, var를 예로 들면 호이스팅 시점에 undefined로 초기화가 진행된다.

#### 📌 Function 생성자

생성자 함수로 함수를 생성하는 방법이다.

```js
const add = new Function("a", "b", "return a + b");

add(10, 24);
```

자바스크립트를 오래 사용했다 해도 사용해 본 적이 없을 만한 방식이며, 실제 코딩에서는 사용되지 않는 방법이라고 봐도 무방하다.

생성자 방식으로 함수를 만들게 되면, 함수의 클로저 또한 생성되지 않는다.(함수 생성 시점의 외부 스코프를 기억하지 못함)

#### 📌 화살표 함수

코드 축약이 가능해서 많이 사용하는 함수 정의 방식이다.(중괄호 생략 가능)

1️⃣ `constructor` 사용이 불가능해 생성자 함수로 사용하는 것이 불가능하다.

2️⃣ `arguments`가 존재하지 않는다.

```js
function hello() {
  console.log(arguments);
}

hello(1, 2, 3); // Arguments(3) [...]

const hi = () => {
  console.log(arguments);
};

hi(1, 2, 3); // arguments is not defined
```

3️⃣ 가장 큰 차이점은 this 바인딩이다. this는 함수 호출 시점에 결정된다. 화살표 함수는 함수 자체의 바인딩을 가지지 않고, 화살표 내부에서 this를 참조하면 상위 스코프의 this를 따르게 된다.

### 1.2.3 다양한 함수 살펴보기

#### 📌 즉시 실행 함수

함수를 정의하고 그 순간 즉시 실행되는 함수이며, 재호출이 불가능하다.

재호출이 불가능하기 때문에, 보통 익명 함수로 작성한다.

```js
(function (a, b) {
  return a + b;
})(10, 24);
```

#### 📌 고차 함수

함수를 인수로 받거나 결과로 새로운 함수를 반환시키는 역할을 하는 함수를 고차 함수라고 한다.

Array.prototype의 `map`, `filter` 등이나 `클로저`를 예로 들 수 있다.

React에서는 같은 원리로 `고차 컴포넌트(HOC)`를 만들 수 있는데, 내용은 이후 커스텀 훅에서 다룬다.

### 1.2.4 함수를 만들 때 주의해야 할 사항

#### 📌 함수의 부수 효과를 최대한 억제하라

순수 함수를 만들라는 말이지만, 개발 시 완벽한 순수 함수를 만들기란 쉽지 않다. React에서는 `useEffect`의 작동을 최소화하는 것이 하나의 방법이 될 수 있다.

#### 📌 가능한 한 함수를 작게 만들어라

코드의 길이가 길어질수록 문제가 생길 확률이 커지고, 내부에서 무슨 일이 일어나는지 추적하기 어려워진다.

하지만 절대적인 기준이 없으므로, 컨벤션이나 각자가 판단하기에 최대한 함수의 크기를 작게 하는 것이 좋다.

#### 📌 누구나 이해할 수 있는 이름을 붙여라
