# Chapter 2: 리액트 핵심 요소 깊게 살펴보기

## 2.4 렌더링은 어떻게 일어나는가?
- 렌더링 ? HTML과 CSS리소스를 기반으로 웹페이지 필요한 UI를 그리는 과정
\+ 렌더링에 따라 성능에 영향 끼친다
- 리액트 렌더링 ? DOM 트리를 만드는 과정
\+ 시간과 리소스를 소비해 수행되는 과정
\+ 이 비용은 모두 웹 애플리케이션을 방문하는 사용자에게 청구
\+ 시간이 길어지고 복잡해질수록 유저의 사용자 경험을 저해
\+ 렌더링 과정을 최소한 줄여야 한다.(결론)

### 2.4.1 리액트 렌더링이란?
- 만약 컴포넌트가 props와 state와 같은 상태값을 가지고 있지 않다면, 오직 해당 컴포넌트가 반환하는 JSX 값에 기반해 렌더링이 일어나게 된다.

### 2.4.2 리액트 렌더링이 일어나는 이유
- 최초 렌더링 after 렌더링 = 리렌더링
- class 컴포넌트 ? 173p
- 함수 컴포넌트 ? useState()의 두 번째 배열 요소인 setter가 실행되는 경우/ useReducer()의 두 번째 배열 요소인 dispatch가 실행되는 경우
- 컴포넌트의 key props가 변경되는 경우 ?
- 부모 컴포넌트가 리렌더링된다면 자식 컴포넌트도 무조건 리렌더링이 일어난다는 것
- Recoil처럼 이러한 별도의 리액트 패키지가 없이도 상태 관리가 되는 라이브러리의 경우에는 내부에서 useState 등을 통해 리렌더링을 발생시킨다.

### 2.4.3 리액트 렌더링 프로세스
- 리액트의 렌더링은 렌더 단계와 커밋 단계라는 총 두단계로 분리

### 2.4.4 렌더와 커밋
- 렌더단계 ? 컴포넌트를 렌더링하고 변경 사항을 계산하는 모든 작업
- 렌더링 프로세스에서 컴포넌트를 실행해(render() 또는 return) 이 결과와 이전 가상 DOM을 비교하는 과정을 거쳐 변경이 필요한 컴포넌트를 체크하는 단계다.
- 여기서 비교하는 것은 크게 세가지로 type, props, key : 이 세가지 중 하나라도 변경된 것이 있으면 변경이 필요한 컴포넌트로 체크
- 커밋단계 ? 렌더 단계의 변경 사항을 실제 DOM에 적용해 사용자에게 보여주는 과정을 말한다
- 리액트가 먼저 DOM을 커밋 단계에서 업데이트한다면 이렇게 만들어진 모든 DOM 노드 및 인스턴스를 가리키도록 리액트 내부의 참조를 업데이트 한다
\* 리액트의 렌더링이 일어난다고 해서 무조건 DOM 업데이트가 일어나는 것은 아니다
- 동시성 렌더링? 렌더링 중 렌더 단계가 비동기로 작동해 특정 렌더링의 우선순위를 낮추거나, 필요하다면 중단하거나 재시작하거나, 경우에 따라서는 포기할 수도 있다

### 2.4.5 일반적인 렌더링 시나리오 살펴보기
- 컴포넌트를 렌더링하는 작업은 ? 별도로 렌더링을 피하기 위한 조치가 돼 있지 않는 한 하위 모든 컴포넌트에 영향을 미친다.
- 부모가 변경됐다면 props가 변경됐는지와 상관없이 무조건 자식 컴포넌트도 리렌더링 된다.
- 상위 컴포넌트, 특히 루트에서 무언가 렌더링을 발생시키는 작업이 일어난다는 것은 하위 모든 컴포넌트의 리렌더링을 트리거 한다는 뜻